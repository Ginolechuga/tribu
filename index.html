<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Control de Alumnos</title>

  <!-- ‚úÖ SDK de Backendless -->
  <script src="https://cdn.jsdelivr.net/npm/backendless@7.0.6/dist/backendless.min.js"></script>

  <script>
    const APP_ID = "A1FE9350-3CAD-48A9-BBE5-19EF0CEF5BE8";
    const API_KEY = "AF976F02-197A-4B98-B5B9-DB2C5C22C36B";

    window.addEventListener("DOMContentLoaded", () => {
      Backendless.initApp(APP_ID, API_KEY);
      console.log("‚úÖ Conectado a Backendless");
    });

    async function registrarAlumno() {
      const alumno = {
        nombre: document.getElementById("nombre").value,
        bautizado: document.getElementById("bautizado").checked,
        edad: parseInt(document.getElementById("edad").value),
        telefono: document.getElementById("telefono").value,
        cargo: document.getElementById("cargo").value,
        visita: document.getElementById("visita").checked
      };

      try {
        await Backendless.Data.of("Alumnos").save(alumno);
        alert("‚úÖ Alumno registrado correctamente");
      } catch (err) {
        alert("‚ùå Error al registrar: " + err.message);
      }
    }

    async function registrarEvento() {
      const evento = {
        nombre: document.getElementById("evento-nombre").value,
        fecha: document.getElementById("evento-fecha").value,
      };

      try {
        await Backendless.Data.of("Eventos").save(evento);
        alert("‚úÖ Evento registrado");
      } catch (err) {
        alert("‚ùå Error al guardar evento: " + err.message);
      }
    }
  </script>
</head>
<body>
  <h1>üìã Registro de Alumnos</h1>
  <div>
    <input id="nombre" placeholder="Nombre completo" /><br />
    <label><input type="checkbox" id="bautizado" /> Bautizado</label><br />
    <input type="number" id="edad" placeholder="Edad" /><br />
    <input id="telefono" placeholder="Tel√©fono" /><br />
    <input id="cargo" placeholder="Cargo en iglesia" /><br />
    <label><input type="checkbox" id="visita" /> Es visita</label><br />
    <button onclick="registrarAlumno()">Registrar alumno</button>
  </div>

  <hr />

  <h2>üìÖ Registrar Evento</h2>
  <div>
    <input id="evento-nombre" placeholder="Nombre del evento" />
    <input type="date" id="evento-fecha" />
    <button onclick="registrarEvento()">Guardar evento</button>
  </div>
</body>
</html>
